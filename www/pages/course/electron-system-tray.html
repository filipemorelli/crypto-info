
<h1><font><font>Electron - System Tray</font></font></h1>






<p><font><font>A bandeja do sistema é um menu fora da janela do seu aplicativo. </font><font>No MacOS e no Ubuntu, ele está localizado no canto superior direito da tela. </font><font>No Windows está no canto inferior direito. </font><font>Podemos criar menus para nossa aplicação em bandejas do sistema usando o Electron.</font></font></p>
<p><font><font>Crie um novo </font><font>arquivo </font></font><b><font><font>main.js</font></font></b><font><font> e adicione o seguinte código para ele. </font><font>Tenha um arquivo png pronto para usar no ícone da bandeja do sistema.</font></font></p>
<pre class="prettyprint notranslate prettyprinted" style=""><span class="kwd">const</span><span class="pln"> </span><span class="pun">{</span><span class="pln">app</span><span class="pun">,</span><span class="pln"> </span><span class="typ">BrowserWindow</span><span class="pun">}</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'electron'</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'url'</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> path </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'path'</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">let</span><span class="pln"> win

</span><span class="kwd">function</span><span class="pln"> createWindow</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
   win </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">BrowserWindow</span><span class="pun">({</span><span class="pln">width</span><span class="pun">:</span><span class="pln"> </span><span class="lit">800</span><span class="pun">,</span><span class="pln"> height</span><span class="pun">:</span><span class="pln"> </span><span class="lit">600</span><span class="pun">})</span><span class="pln">
   win</span><span class="pun">.</span><span class="pln">loadURL</span><span class="pun">(</span><span class="pln">url</span><span class="pun">.</span><span class="pln">format </span><span class="pun">({</span><span class="pln">
      pathname</span><span class="pun">:</span><span class="pln"> path</span><span class="pun">.</span><span class="pln">join</span><span class="pun">(</span><span class="pln">__dirname</span><span class="pun">,</span><span class="pln"> </span><span class="str">'index.html'</span><span class="pun">),</span><span class="pln">
      protocol</span><span class="pun">:</span><span class="pln"> </span><span class="str">'file:'</span><span class="pun">,</span><span class="pln">
      slashes</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
   </span><span class="pun">}))</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

app</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'ready'</span><span class="pun">,</span><span class="pln"> createWindow</span><span class="pun">)</span></pre>
<p><font><font>Depois de configurar uma janela básica do navegador, criaremos um novo </font><font>arquivo </font></font><b><font><font>index.html</font></font></b><font><font> com o seguinte conteúdo -</font></font></p>
<pre class="prettyprint notranslate prettyprinted" style=""><span class="dec">&lt;!DOCTYPE html&gt;</span><span class="pln">
</span><span class="tag">&lt;html&gt;</span><span class="pln">
   </span><span class="tag">&lt;head&gt;</span><span class="pln">
      </span><span class="tag">&lt;meta</span><span class="pln"> </span><span class="atn">charset</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="atv">"UTF-8"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;title&gt;</span><span class="pln">Menus</span><span class="tag">&lt;/title&gt;</span><span class="pln">
   </span><span class="tag">&lt;/head&gt;</span><span class="pln">
   </span><span class="tag">&lt;body&gt;</span><span class="pln">
      </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="atv">"text/javascript"</span><span class="tag">&gt;</span><span class="pln">
         </span><span class="kwd">const</span><span class="pln"> </span><span class="pun">{</span><span class="pln">remote</span><span class="pun">}</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> require</span><span class="pun">(</span><span class="str">'electron'</span><span class="pun">)</span><span class="pln">
         </span><span class="kwd">const</span><span class="pln"> </span><span class="pun">{</span><span class="typ">Tray</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Menu</span><span class="pun">}</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> remote
         </span><span class="kwd">const</span><span class="pln"> path </span><span class="pun">=</span><span class="pln"> require</span><span class="pun">(</span><span class="str">'path'</span><span class="pun">)</span><span class="pln">

         let trayIcon </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Tray</span><span class="pun">(</span><span class="pln">path</span><span class="pun">.</span><span class="pln">join</span><span class="pun">(</span><span class="str">''</span><span class="pun">,</span><span class="str">'/home/ayushgp/Desktop/images.png'</span><span class="pun">))</span><span class="pln">

         </span><span class="kwd">const</span><span class="pln"> trayMenuTemplate </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
            </span><span class="pun">{</span><span class="pln">
               label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Empty Application'</span><span class="pun">,</span><span class="pln">
               enabled</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pln">
            </span><span class="pun">},</span><span class="pln">
            
            </span><span class="pun">{</span><span class="pln">
               label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Settings'</span><span class="pun">,</span><span class="pln">
               click</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                  console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">"Clicked on settings"</span><span class="pun">)</span><span class="pln">
               </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">},</span><span class="pln">
            
            </span><span class="pun">{</span><span class="pln">
               label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Help'</span><span class="pun">,</span><span class="pln">
               click</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                  console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">"Clicked on Help"</span><span class="pun">)</span><span class="pln">
               </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
         </span><span class="pun">]</span><span class="pln">
         
         let trayMenu </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Menu</span><span class="pun">.</span><span class="pln">buildFromTemplate</span><span class="pun">(</span><span class="pln">trayMenuTemplate</span><span class="pun">)</span><span class="pln">
         trayIcon</span><span class="pun">.</span><span class="pln">setContextMenu</span><span class="pun">(</span><span class="pln">trayMenu</span><span class="pun">)</span><span class="pln">
      </span><span class="tag">&lt;/script&gt;</span><span class="pln">
   </span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></pre>
<p><font><font>Criamos a bandeja usando o submarino Bandeja. </font><font>Em seguida, criamos um menu usando um modelo e anexamos o menu ao nosso objeto da bandeja.</font></font></p>
<p><font><font>Execute o aplicativo usando o seguinte comando -</font></font></p>
<pre class="result notranslate">$ electron ./main.js
</pre>
<p><font><font>Quando você executa o comando acima, verifique a bandeja do sistema para o ícone que você usou. </font><font>Eu usei um rosto sorridente para minha aplicação. </font><font>O comando acima gerará a saída a seguir -</font></font></p>
<img src="https://www.tutorialspoint.com/electron/images/tray.jpg" alt="bandeja">





<!-- PRINTING ENDS HERE -->
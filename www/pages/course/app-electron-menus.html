<div class="page" data-name="electron-menus">
    <div class="navbar">
        <div class="navbar-inner sliding">
            <div class="left">
                <a href="#" class="link back">
                    <i class="icon icon-back"></i>
                    <span class="ios-only">Voltar</span>
                </a>
            </div>
            <div class="title">Electron - Menus</div>
        </div>
    </div>
    <div class="page-content">
        <div class="block">

<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Electron - Menus</font></font></h1>






<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os aplicativos de desktop vêm com dois tipos de menus: o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menu</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do </font><b><font style="vertical-align: inherit;">aplicativo</font></b><font style="vertical-align: inherit;"> (na barra superior) e um </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menu de contexto</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font><b><font style="vertical-align: inherit;">menu</font></b><font style="vertical-align: inherit;"> do botão direito do mouse). </font><font style="vertical-align: inherit;">Aprenderemos a criar esses dois itens neste capítulo.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usaremos dois módulos - os módulos </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menu</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MenuItem</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Observe que os </font><font style="vertical-align: inherit;">módulos </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menu</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MenuItem</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> estão apenas disponíveis no processo principal. </font><font style="vertical-align: inherit;">Para usar esses módulos no processo de renderização, você precisa do </font><font style="vertical-align: inherit;">módulo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">remoto</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Vamos encontrar isso quando criarmos um menu de contexto.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora, vamos criar um novo </font><font style="vertical-align: inherit;">arquivo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main.js</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para o processo principal -</font></font></p>
<pre class="prettyprint notranslate prettyprinted" style=""><span class="kwd">const</span><span class="pln"> </span><span class="pun">{</span><span class="pln">app</span><span class="pun">,</span><span class="pln"> </span><span class="typ">BrowserWindow</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Menu</span><span class="pun">,</span><span class="pln"> </span><span class="typ">MenuItem</span><span class="pun">}</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'electron'</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'url'</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> path </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'path'</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">let</span><span class="pln"> win

</span><span class="kwd">function</span><span class="pln"> createWindow</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
   win </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">BrowserWindow</span><span class="pun">({</span><span class="pln">width</span><span class="pun">:</span><span class="pln"> </span><span class="lit">800</span><span class="pun">,</span><span class="pln"> height</span><span class="pun">:</span><span class="pln"> </span><span class="lit">600</span><span class="pun">})</span><span class="pln">
   win</span><span class="pun">.</span><span class="pln">loadURL</span><span class="pun">(</span><span class="pln">url</span><span class="pun">.</span><span class="pln">format </span><span class="pun">({</span><span class="pln">
      pathname</span><span class="pun">:</span><span class="pln"> path</span><span class="pun">.</span><span class="pln">join</span><span class="pun">(</span><span class="pln">__dirname</span><span class="pun">,</span><span class="pln"> </span><span class="str">'index.html'</span><span class="pun">),</span><span class="pln">
      protocol</span><span class="pun">:</span><span class="pln"> </span><span class="str">'file:'</span><span class="pun">,</span><span class="pln">
      slashes</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
   </span><span class="pun">}))</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">template</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
   </span><span class="pun">{</span><span class="pln">
      label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Edit'</span><span class="pun">,</span><span class="pln">
      submenu</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
            role</span><span class="pun">:</span><span class="pln"> </span><span class="str">'undo'</span><span class="pln">
         </span><span class="pun">},</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
            role</span><span class="pun">:</span><span class="pln"> </span><span class="str">'redo'</span><span class="pln">
         </span><span class="pun">},</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
            type</span><span class="pun">:</span><span class="pln"> </span><span class="str">'separator'</span><span class="pln">
         </span><span class="pun">},</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
            role</span><span class="pun">:</span><span class="pln"> </span><span class="str">'cut'</span><span class="pln">
         </span><span class="pun">},</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
            role</span><span class="pun">:</span><span class="pln"> </span><span class="str">'copy'</span><span class="pln">
         </span><span class="pun">},</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
            role</span><span class="pun">:</span><span class="pln"> </span><span class="str">'paste'</span><span class="pln">
         </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">]</span><span class="pln">
   </span><span class="pun">},</span><span class="pln">

   </span><span class="pun">{</span><span class="pln">
      label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'View'</span><span class="pun">,</span><span class="pln">
      submenu</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
            role</span><span class="pun">:</span><span class="pln"> </span><span class="str">'reload'</span><span class="pln">
         </span><span class="pun">},</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
            role</span><span class="pun">:</span><span class="pln"> </span><span class="str">'toggledevtools'</span><span class="pln">
         </span><span class="pun">},</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
            type</span><span class="pun">:</span><span class="pln"> </span><span class="str">'separator'</span><span class="pln">
         </span><span class="pun">},</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
            role</span><span class="pun">:</span><span class="pln"> </span><span class="str">'resetzoom'</span><span class="pln">
         </span><span class="pun">},</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
            role</span><span class="pun">:</span><span class="pln"> </span><span class="str">'zoomin'</span><span class="pln">
         </span><span class="pun">},</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
            role</span><span class="pun">:</span><span class="pln"> </span><span class="str">'zoomout'</span><span class="pln">
         </span><span class="pun">},</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
            type</span><span class="pun">:</span><span class="pln"> </span><span class="str">'separator'</span><span class="pln">
         </span><span class="pun">},</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
            role</span><span class="pun">:</span><span class="pln"> </span><span class="str">'togglefullscreen'</span><span class="pln">
         </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">]</span><span class="pln">
   </span><span class="pun">},</span><span class="pln">

   </span><span class="pun">{</span><span class="pln">
      role</span><span class="pun">:</span><span class="pln"> </span><span class="str">'window'</span><span class="pun">,</span><span class="pln">
      submenu</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
            role</span><span class="pun">:</span><span class="pln"> </span><span class="str">'minimize'</span><span class="pln">
         </span><span class="pun">},</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
            role</span><span class="pun">:</span><span class="pln"> </span><span class="str">'close'</span><span class="pln">
         </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">]</span><span class="pln">
   </span><span class="pun">},</span><span class="pln">

   </span><span class="pun">{</span><span class="pln">
      role</span><span class="pun">:</span><span class="pln"> </span><span class="str">'help'</span><span class="pun">,</span><span class="pln">
      submenu</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
         </span><span class="pun">{</span><span class="pln">
            label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Learn More'</span><span class="pln">
         </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">]</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">
</span><span class="pun">]</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> menu </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Menu</span><span class="pun">.</span><span class="pln">buildFromTemplate</span><span class="pun">(</span><span class="kwd">template</span><span class="pun">)</span><span class="pln">
</span><span class="typ">Menu</span><span class="pun">.</span><span class="pln">setApplicationMenu</span><span class="pun">(</span><span class="pln">menu</span><span class="pun">)</span><span class="pln">
app</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'ready'</span><span class="pun">,</span><span class="pln"> createWindow</span><span class="pun">)</span></pre>
<p>We are building a menu from a template here. This means that we provide the menu as a JSON to the function and it will take care of the rest. Now we have to set this menu as the Application menu.</p>
<p>Now create an empty HTML file called index.html and run this application using −</p>
<pre class="result notranslate">$ electron ./main.js
</pre>
<p>On the normal position of application menus, you will see a menu based on the above template.</p>
<img src="https://www.tutorialspoint.com/electron/images/menu.jpg" alt="Menus de aplicação">
<p>We created this menu from the main process. Let us now create a context menu for our app. We will do this in our HTML file −</p>
<pre class="prettyprint notranslate prettyprinted" style=""><span class="dec">&lt;!DOCTYPE html&gt;</span><span class="pln">
</span><span class="tag">&lt;html&gt;</span><span class="pln">
   </span><span class="tag">&lt;head&gt;</span><span class="pln">
      </span><span class="tag">&lt;meta</span><span class="pln"> </span><span class="atn">charset</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="atv">"UTF-8"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;title&gt;</span><span class="pln">Menus</span><span class="tag">&lt;/title&gt;</span><span class="pln">
   </span><span class="tag">&lt;/head&gt;</span><span class="pln">

   </span><span class="tag">&lt;body&gt;</span><span class="pln">
      </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="atv">"text/javascript"</span><span class="tag">&gt;</span><span class="pln">
         </span><span class="kwd">const</span><span class="pln"> </span><span class="pun">{</span><span class="pln">remote</span><span class="pun">}</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> require</span><span class="pun">(</span><span class="str">'electron'</span><span class="pun">)</span><span class="pln">
         </span><span class="kwd">const</span><span class="pln"> </span><span class="pun">{</span><span class="typ">Menu</span><span class="pun">,</span><span class="pln"> </span><span class="typ">MenuItem</span><span class="pun">}</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> remote

         </span><span class="kwd">const</span><span class="pln"> menu </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Menu</span><span class="pun">()</span><span class="pln">

         </span><span class="com">// Build menu one item at a time, unlike</span><span class="pln">
         menu</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">MenuItem</span><span class="pln"> </span><span class="pun">({</span><span class="pln">
            label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'MenuItem1'</span><span class="pun">,</span><span class="pln">
            click</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
               console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'item 1 clicked'</span><span class="pun">)</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
         </span><span class="pun">}))</span><span class="pln">

         menu</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">MenuItem</span><span class="pun">({</span><span class="pln">type</span><span class="pun">:</span><span class="pln"> </span><span class="str">'separator'</span><span class="pun">}))</span><span class="pln">
         menu</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">MenuItem</span><span class="pun">({</span><span class="pln">label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'MenuItem2'</span><span class="pun">,</span><span class="pln"> type</span><span class="pun">:</span><span class="pln"> </span><span class="str">'checkbox'</span><span class="pun">,</span><span class="pln"> checked</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">}))</span><span class="pln">
         menu</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">MenuItem</span><span class="pln"> </span><span class="pun">({</span><span class="pln">
            label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'MenuItem3'</span><span class="pun">,</span><span class="pln">
            click</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
               console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'item 3 clicked'</span><span class="pun">)</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
         </span><span class="pun">}))</span><span class="pln">

         </span><span class="com">// Prevent default action of right click in chromium. Replace with our menu.</span><span class="pln">
         window</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">'contextmenu'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            e</span><span class="pun">.</span><span class="pln">preventDefault</span><span class="pun">()</span><span class="pln">
            menu</span><span class="pun">.</span><span class="pln">popup</span><span class="pun">(</span><span class="pln">remote</span><span class="pun">.</span><span class="pln">getCurrentWindow</span><span class="pun">())</span><span class="pln">
         </span><span class="pun">},</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">)</span><span class="pln">
      </span><span class="tag">&lt;/script&gt;</span><span class="pln">
   </span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></pre>
<p>We imported the Menu and MenuItem modules using the remote module; then, we created a menu and appended our menuitems to it one by one. Further, we prevented the default action of right-click in chromium and replaced it with our menu.</p>
<img src="https://www.tutorialspoint.com/electron/images/contextmenu.jpg" alt="Menu contextual">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A criação de menus em Electron é uma tarefa muito simples. </font><font style="vertical-align: inherit;">Agora você pode anexar seus manipuladores de eventos a esses itens e lidar com os eventos de acordo com suas necessidades.</font></font></p>





<!-- PRINTING ENDS HERE -->


        </div>
    </div>
</div>
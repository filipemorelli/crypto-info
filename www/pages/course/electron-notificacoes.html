
<h1><font><font>Electron - Notificações</font></font></h1>






<p><font><font>O Electron fornece API de notificações nativas apenas para o MacOS. </font><font>Então, não vamos usar isso, em vez disso, usaremos um módulo npm chamado </font></font><i><font><font>notificador de nodejs</font></font></i><font><font> . </font><font>Isso nos permite notificar usuários em Windows, MacOS e Linux.</font></font></p>
<p><font><font>Instale o módulo de notificador de nodejs na pasta da sua aplicação usando o seguinte comando nessa pasta -</font></font></p>
<pre class="result notranslate">$ npm install --save node-notifier
</pre>
<p><font><font>Deixe-nos agora criar um aplicativo que tenha um botão que gerará uma notificação sempre que clicarmos neste botão.</font></font></p>
<p><font><font>Crie um novo </font><font>arquivo </font></font><b><font><font>main.js</font></font></b><font><font> e insira o seguinte código nela -</font></font></p>
<pre class="prettyprint notranslate prettyprinted" style=""><span class="kwd">const</span><span class="pln"> </span><span class="pun">{</span><span class="pln">app</span><span class="pun">,</span><span class="pln"> </span><span class="typ">BrowserWindow</span><span class="pun">}</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'electron'</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'url'</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> path </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'path'</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">let</span><span class="pln"> win

</span><span class="kwd">function</span><span class="pln"> createWindow</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
   win </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">BrowserWindow</span><span class="pun">({</span><span class="pln">width</span><span class="pun">:</span><span class="pln"> </span><span class="lit">800</span><span class="pun">,</span><span class="pln"> height</span><span class="pun">:</span><span class="pln"> </span><span class="lit">600</span><span class="pun">})</span><span class="pln">
   win</span><span class="pun">.</span><span class="pln">loadURL</span><span class="pun">(</span><span class="pln">url</span><span class="pun">.</span><span class="pln">format </span><span class="pun">({</span><span class="pln">
      pathname</span><span class="pun">:</span><span class="pln"> path</span><span class="pun">.</span><span class="pln">join</span><span class="pun">(</span><span class="pln">__dirname</span><span class="pun">,</span><span class="pln"> </span><span class="str">'index.html'</span><span class="pun">),</span><span class="pln">
      protocol</span><span class="pun">:</span><span class="pln"> </span><span class="str">'file:'</span><span class="pun">,</span><span class="pln">
      slashes</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
   </span><span class="pun">}))</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

app</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'ready'</span><span class="pun">,</span><span class="pln"> createWindow</span><span class="pun">)</span></pre>
<p><font><font>Deixe-nos agora criar nossa página e script que irá ativar a notificação. </font><font>Crie um novo </font><font>arquivo </font></font><b><font><font>index.html</font></font></b><font><font> com o seguinte código -</font></font></p>
<pre class="prettyprint notranslate prettyprinted" style=""><span class="dec">&lt;!DOCTYPE html&gt;</span><span class="pln">
</span><span class="tag">&lt;html&gt;</span><span class="pln">
   </span><span class="tag">&lt;head&gt;</span><span class="pln">
      </span><span class="tag">&lt;meta</span><span class="pln"> </span><span class="atn">charset</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="atv">"UTF-8"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;title&gt;</span><span class="pln">Menus</span><span class="tag">&lt;/title&gt;</span><span class="pln">
   </span><span class="tag">&lt;/head&gt;</span><span class="pln">
   
   </span><span class="tag">&lt;body&gt;</span><span class="pln">
      </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">type</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="atv">"button"</span><span class="pln"> </span><span class="atn">id</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="atv">"notify"</span><span class="pln"> </span><span class="atn">name</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="atv">"button"</span><span class="tag">&gt;</span><span class="pln">
         Click here to trigger a notification!</span><span class="tag">&lt;/button&gt;</span><span class="pln">
      </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="atv">"text/javascript"</span><span class="tag">&gt;</span><span class="pln">
         </span><span class="kwd">const</span><span class="pln"> notifier </span><span class="pun">=</span><span class="pln"> require</span><span class="pun">(</span><span class="str">'node-notifier'</span><span class="pun">)</span><span class="pln">
         </span><span class="kwd">const</span><span class="pln"> path </span><span class="pun">=</span><span class="pln"> require</span><span class="pun">(</span><span class="str">'path'</span><span class="pun">);</span><span class="pln">
         
         document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">'notify'</span><span class="pun">).</span><span class="pln">onclick </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">event</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            notifier</span><span class="pun">.</span><span class="pln">notify </span><span class="pun">({</span><span class="pln">
               title</span><span class="pun">:</span><span class="pln"> </span><span class="str">'My awesome title'</span><span class="pun">,</span><span class="pln">
               message</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Hello from electron, Mr. User!'</span><span class="pun">,</span><span class="pln">
               icon</span><span class="pun">:</span><span class="pln"> path</span><span class="pun">.</span><span class="pln">join</span><span class="pun">(</span><span class="str">''</span><span class="pun">,</span><span class="str">'/home/ayushgp/Desktop/images.png'</span><span class="pun">),</span><span class="pln">  </span><span class="com">// Absolute path </span><span class="pln">
                  </span><span class="pun">(</span><span class="pln">doesn</span><span class="str">'</span><span class="pln">t work on balloons</span><span class="pun">)</span><span class="pln">
               sound</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln">  </span><span class="com">// Only Notification Center or Windows Toasters</span><span class="pln">
               wait</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">    </span><span class="com">// Wait with callback, until user action is taken </span><span class="pln">
               against notification
            
            </span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">err</span><span class="pun">,</span><span class="pln"> response</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
               </span><span class="com">// Response is response from notification</span><span class="pln">
            </span><span class="pun">});</span><span class="pln">

            notifier</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">notifierObject</span><span class="pun">,</span><span class="pln"> options</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
               console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">"You clicked on the notification"</span><span class="pun">)</span><span class="pln">
            </span><span class="pun">});</span><span class="pln">

            notifier</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'timeout'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">notifierObject</span><span class="pun">,</span><span class="pln"> options</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
               console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">"Notification timed out!"</span><span class="pun">)</span><span class="pln">
            </span><span class="pun">});</span><span class="pln">
         </span><span class="pun">}</span><span class="pln">
      </span><span class="tag">&lt;/script&gt;</span><span class="pln">
   </span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></pre>
<p><font><font>O </font><font>método de </font></font><b><font><font>notificação</font></font></b><font><font> nos permite passar um </font></font><b><font><font>objeto com</font></font></b><font><font> informações como o título, mensagem, miniatura, etc., que nos ajudam a personalizar a notificação. </font><font>Também podemos definir alguns ouvintes de eventos na notificação.</font></font></p>
<p><font><font>Agora, execute o aplicativo usando o seguinte comando -</font></font></p>
<pre class="result notranslate">$ electron ./main.js
</pre>
<p><font><font>Quando você clica no botão que criamos, você verá uma notificação nativa do seu sistema operacional conforme mostrado na seguinte captura de tela -</font></font></p>
<img src="https://www.tutorialspoint.com/electron/images/notification.jpg" alt="Notificação">
<p><font><font>Nodejss também manipulamos os eventos em que, o usuário clica na notificação ou a notificação expira. </font><font>Esses métodos nos ajudam a tornar o aplicativo mais interativo se ele estiver executando em segundo plano.</font></font></p>





<!-- PRINTING ENDS HERE -->